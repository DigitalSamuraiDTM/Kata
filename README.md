# Программа для проведения соревнований по каратэ ката в формате одиночных выступлений #

Содержание:
1) [Для чего эта программа?](#1)
2) [Функционал](#2)
3) [Как этим пользоваться?](#3)
* [Настройки](#4)
* [Создание мероприятия](#5)
* [Работа с участниками](#6)
* [Ввод участников](#7)
* [Создание категорий участников](#8)
* [Распределение участников по категориям](#9)
* [Распределение категорий по татами](#10)
* [Работа с судьями](#11)
+ [Ввод судей](#12)
+ [Распределение сулей по судейским бригадам](#13)
* [Создание сетки оценивания участников](#15)
* [Начало мероприятия](#16)
* [Во время мероприятия](#17)
* [Обработка категорий](#18)
* [Обработка категорий на доп. татами(режим дополнительного татами)](#19)
* [Завершение этапа категорий. Расчет баллов на вылет](#20)
* [Завершение категории. Расстановка мест](#21)
* [Критическая ситуация:совпадение баллов](#22)
* [Завершение мероприятия](#23)
* [История мероприятия и отчеты](#24)
4) [О разработке](#25)

## <a name="1">Для чего эта программа?</a> ##
Программа "Ката" предназначена для проведения соревнований по каратэ Киокушинкай(Но возможно она подойдет и для других подобных соревнований) раздела ката в формате одиночных выступлений любых категорий.
## <a name="2">Функционал</a>
Программа, с помощью пользователя, способна создавать мероприятия, регистрировать участников и судей, создавать категории и распределять участников по категориям, распределять категории по другим татами(то есть программа может работать в режиме на несколько татами, но для этого необходимо иметь компьютеры на каждом из татами), проведение мероприятия и расчет баллов участника(пользователь может расчитывать баллы, которые выставляют судьи), ведение истории баллов участника, а также *генерация отчетов судей, участников и создание отчета по проведению мероприятия*.
Подробнее о функционале будет далее...
## <a name="3">Как этим пользоваться?(полный цикл мероприятия)</a> ##
Разберем полный цикл мероприятия от его начала до генерации отчетов и посмотрим как работает программа
### <a name="4">Настройки</a> ###
Первое, что необходимо сделать пользователю - настроить приложение под себя. В приложении имеются настройки для соревнований и небольшая настройка шрифта для того, чтобы пользователю было удобно пользоваться  приложением (Темной темы нет и не будет, живите с этим, как хотите). Настроек для соревнований всего две:
* Настройка причин для исключения участника. Настройка позволяет создавать и удалять причины, по которым вы исключаете участника
* Настройка судейских должностей. Эта настройка позволяет создавать свои должности для судей. Стандартные должности: рефери, боковой судья, судья при участниках, судья-секундометрист.
**После начала мероприятия изменять настройки будет нельзя**

### <a name="5">Создание мероприятия</a> ###
Нажав на кнопку "начать соревнования" у вас открывается окно регистрации мероприятия. Заполните все поля, которые даны на первой вкладке и после начинайте заводить участников и судей в вашу базу данных
*Вы можете закрыть мероприятие и даже начать новое соревнование(параллельно вы можете вести несколько мероприятий). Программа предложит сохранить ваши данные и после нажатия на кнопку продолжения мероприятия, она продолжит работу на том месте, на котором вы закончили*

### <a name="6">Работа с участниками</a> ###
Разберем все стадии регистрации участников от их ввода до распределения

#### <a name="7">Ввод участников</a> ####
На вкладке добавления участников и судей вы можете загружать участников, которых вам прислали тренера. Программа загружает участников (Необходимо использовать шаблон, который разработан специально для программы) в промежуточное поле, в котором вы можете подправить данные участников, если они были введены некорректно(но удалять участников можно только после загрузки в базу данных). После того, как вы удостоверились в правильности заполнения участников, нажав на кнопку "сохранить данные в базе", они будут загружены в базу данных вашего мероприятия. Также вы можете вручную добавлять участников на вкладке "участники", если в этом есть необходимость.
**Обратите внимание. Программа расшифровывает шаблон и если повредить шапку шаблона участников, она будет распознавать его как неправильный документ**
**Обратите внимание. Программа учитывает ситуацию повторной загрузки участников в базу данных и она будет предупреждать вас об этом**

#### <a name="8">Создание категорий участников</a> ####
На вкладыке "категории" вы можете создавать или загружать шаблоны категорий и распределять участников по категориям.
Для создания категории используются:
* Возраст
* Пол
* Тип квалификации (Дан или Кю)
* Степень квалификации (Если вы используете тип квалификации Кю, то квалификация "от" и "до" идет по стандарту:0,10,9,8,7,6,5,4,3,2,1
Если вы используете тип квалификации Дан, то квалификация "от" и "до" идет по стандарту:1,2,3,4,5,6,7...)
Вы можете сохранять и загружать свои шаблоны. Программа использует формат файлов JSON.
**Обратите внимание. Программа имеет идентификацию файлов шаблонов. Если вы загрузите неправильный файл - программа предупредит вас об этом**

#### <a name="9">Распределение участников по категориям</a> ####
После добавление всех участников и создания категорий нажмите на кнопку "распределить категории" во вкладке категорий, после этого у вас может случиться 3 ситуации:
1) Все участники будут успешно распределены. После этого программа покажет информационное окошко и вы можете продолжать работу
2) У вас остались участники, не распределенные в категориях. Для этого во вкладке участников выберите участников без категории, проанализируйте, каких категорий вам не хватает и создайте их. После повторите нажатие на кнопку "распределить категории" и убедитесь в том, что все участники распределены по категориям.
3) У вас остались категории, в которых нет ни одного участника. Программа укажет какие категории пустуют. Далее добавьте участников, которые будут участвовать в этих категориях или удалите пустые категории. После этого убедитесь, что участники распределены в категориях - нажмите на кнопку "распределить категории".

#### <a name="10">Распределение категорий по татами</a> ####
После того, как вы распределили всех участников, вы можете распределить участников по татами. Для этого нажмите на кнопку "распределить по татами" и у вас откроется окно. Выберите категории, которые хотели бы оценивать на другом татами и подтвердите это. У вас появится файл с расширением json (в файле содержится вся информация об участниках и данные для таблицы оценивания участников), который вы можете открыть на других компьютерах в приложении, нажав на кнопку "режим дополнительного татами".
Разделение категорий не ограничивается определенным количеством татами, вы можете распределять участников на бесконечное количество татами.
**Обратите внимание. Файл, который вы используете для других татами не облагается защитой. Ответственность за целостность файла находится полностью на  пользователе**

### <a name="11">Работа с судьями</a> ###
Программа может работать с судьями и составлять отчет по судьям

#### <a name="12">Ввод судей</a> ####
Ввод судей происходит абсолютно по той же схеме, что и ввод участников (см. <a name="7">ввод участников</a>). Программа сама распознает какой шаблон вы используете, вам необходимо только удостовериться в правильности введенных данных. Также есть cпособ ручного ввода.

#### <a name="13">Распределение судей по судейским бригадам</a> ####
Выберите судей для создания бригады и распределите им категории в соответствии с вашими настройками для каждого судьи.
Вы можете смотреть на судей по их бригадам и менять данные судей прямо в общей таблице судей.
*В программе нет функций смены должности или судейской бригады, но вы можете менять бригады или должности*
**Обратите внимание. Неправильная смена должности может привести к тому, что судья не будет состоять в отчете.**

### <a name="15">Создание сетки оценивания участника</a> ###
Программа работает с соревнованиями, где победа участника идет исходя из его баллов. Для выставления баллов каждый из 5 судей ставит свою оценку и происходит расчет баллов по формуле: *сумма баллов всех судей*-*минимальный балл судей*-*максимальный балл судей*
Выберите оценку "от" и "до" и шаг, с которым будет производиться оценка. Обязательно посмотрите на вашу итоговую таблицу и исправьте её, если она не соответствует вашим стандартам.

### <a name="16">Начало мероприятия</a> ###
После того, как вы прошли все пункты регистрации вы можете начинать проводить мероприятие. После начала мероприятия будет недоступна регистрация участников, судей. Убедитесь в том, что вы прошли все стадии регистрации. По нажатию на кнопку "начать соревнование" программа проведёт базовые проверки(проверки: наличие пустых категорий, наличие участников без категорий, существование сгенерированной таблицы, проверка судей без бригады, все проверки на введенные данные в окне регистрации) стадий регистраци и если всё пройдет успешно, то начнется мероприятие, иначе пользователь получит предупреждение и скажет, где в мероприятии есть недочёт.

### <a name="17">Во время мероприятия</a> ###
После прохождения стадии регистрации вы попадете в окно проведения мероприятия. В окне будет доступно несколько вкладок. На первой вкладке вы можете оценивать участников. Для этого выберите категорию и нажмите "начать круг"(Система мероприятия устроена так, что вам необходимо прогонять полностью весь круг категории). *Программа ведёт сохранение данных по завершению круга или завершению категории.*

#### <a name="18">Обработка категории</a> ####
После того, как вы нажали "начать круг" вам предестоит выбирать участников из списка и оценивать его. Выбрав одного участника (если вы выберете больше, то вам об этом скажет программа) и нажав на кнопку оценивания участников, у вас откроется таблица оценок судей (см. создание сетки оценивания участника) и вы сможете выбрать баллы, которые поставили судьи участнику. После оценивания участник будет подсвечен зеленым и будет отсортирован по убыванию от самого большего балла, до самого меньшего
**Обратите внимание. Сортировка идет по трем пунктам, сначала по среднему баллу, потом по максимальному, а потом по минимальному (по правилам проведения соревнований по ката)**
Также вы можете исключить участника по причинам, которые настраивали перед проведением мероприятия(см. Настройки). После исключения участник будет подсвечен красным и сдвинется вниз списка, а также этот участник не будет участвовать в завершении этапа (т.е. он просто напросто вылетит). После оценивания всех участников вы будете видеть полный отсортированный список и примерно понимать, кто находится на каком месте. Программа не даст вам завершить круг, если вы не проведете действий с каким-либо из участников (т.е. вы обязательно должны либо оценить его, либо исключить). По завершении всех манипуляций нужно завершить круг.

#### <a name="19">Обработка категорий на дополнительных татами(режим дополнительного татами)</a> ####
Откройте программу на компьютере, располагающимся на другом татами и нажмите "режим дополнительного татами". Программа предложит вам загрузить в неё файл с участниками(см распределение категорий по татами). Файл содержит в себе категории с участниками, причины исключения и таблицу оценивания. После загрузки файла у вас откроется обычное окно проведения мероприятия, главным отличием которого будут замороженные кнопки "завершить соревнование" и "выгрузить категории", но у вас будет доступна кнопка для завершения соревнования на этом татами, по нажатии которой у вас сформируется еще один файл с участниками, но уже с расставленными местами и историями их баллов. Сам алгоритм оценивания не имеет отличий от главного татами(см. Обработка категорий).

### <a name="20">Завершение этапа категорий, расчет баллов на вылет</a> ###
По завершении одного круга(этапа) у категории вы должны выбрать сколько участников пройдет в следующий круг, а сколько закончит участие. Вы можете оставить всех участников, если укажите число равное числу участников. Учитывайте, что участники, которые были исключены по той или иной причине всё равно будут удалены из списка и получат свои места. Все участники получат места, то есть последний участник будет иметь место равное количеству участников. После того, как пользователем будет решено количество участников в следующий тур, остальные участники удалятся из списка, получат места и сохранятся в базе данных.
**Обратите внимание. Сохранение в базу данных идет именно тогда, когда будет завершен круг. Старайтесь избегать потери данных, из-за непредвиденных ситуаций(выключение электричества, потоп, и т.д. Ответственность за сохранность и целостность данных несет на себе пользователь**

### <a name="21">Завершение категории, рассчет конечных мест участников</a> ###
Чтобы завершить категорию и закрыть её - необходимо нажать "завершение категории", после чего программа на всякий случай уточнит это (защита от миссклика). Как только категория будет завершена, программа расставит окончательные финальные места для остальных участников(завершить категорию можно только обработав всех участников круга) и выдаст окно, на котором будут отображены участники, занявшие с 1 по 4 места(Для удобства заполнения грамот). Категория пропадёт из списка категорий и программа переключится на другую категорию. Завершив все категории и загрузив категории с дополнительных татами, вы можете завершить мероприятие.
*Вы можете смотреть, а также изменять итоги во вкладке "участники". Все изменения будут сохранены в базе данных*

### <a name="22">Критическая ситуация - совпадение баллов участников</a> ###
Во время соревнований могут возникнуть спорные ситуации, когда у участников совпадают баллы. Программа оборудована защитным алгоритмом на данную ситуацию. Рассмотрим ситуации совпадения баллов.
По правилам соревнований, если у участников во время спорного момента (окончание круга или финальная расстановка мест) будут совпадать баллы, то стоит рассматривать наибольший максимальный балл, что и будет делать программа -> при совпадении средних и максимальных баллов программа будет сравнивать минимальный балл (также по правилам проведения) -> если у участников совпадают все три контрольных балла, то программа будет рассматривать *предыдущий круг* мероприятия по тем же критериям от среднего к минимальному. В случае совпадения баллов в предыдущем круге или при отсутствии предыдущего круга программа выдаст предупреждающее окно и предложит пользователю самому решить, кто попадёт в следующий круг, а кто нет (или же, в случае с окончательными местами программа предложит выставить места вручную). Тем самым программа избегает всевозможных спорных ситуаций и учитывает их. (При совпадении баллов программа укажет об этом пользователю, чтобы тот знал об этом и смог предупредить старших судей)

### <a name="23">Завершение мероприятия</a> ###
Для завершения мероприятия необходимо завершить все категории, а также загрузить категории из дополнительных татами(Программа ведет список категорий и не даст закончить, если что-то не так). После завершения вы можете обратиться в историю мероприятия, сгенерировать отчеты и скорректировать данные.

### <a name="24">История мероприятия и отчеты</a> ###
Программа запоминает всю историю баллов каждого участника, имеет общий список участников с возможностью сортировки и корректировки данных, список судей, а также применяемый шаблон категорий.
Всего можно создать 3 отчета:
1) справка о мероприятии
2) отчет о судьях
3) отчет об участниках

Справка о мероприятии содержит в себе все основные данные о мероприятии, которые заполнялись в момент регистрации.
Отчет о судьях содержит в себе все судейские бригады с полями для дальнейшего выставления оценок судей главныв судьей соревнований.
Отчет об участниках содержит таблицы с победителями и призерами категорий.

Отчеты генерируются в формате doc и могут быть скорректированы и сохранены для дальнейшней печати.

## <a name = "25">О разработке</a> ##
Программа разработана на кроссплатформенном фреймворке QT (ЯП: С++)
с применением технологий: JSON, Word API, Excel API, SQL (SQLite database)
Разработано Нугаевым Андреем Александровичем (e-mail: nugaev.andrei@gmail.com)
